<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Izland Fot√≥gal√©ria - Term√©szet √©s T√°j</title>
    <script src="https://cdn.jsdelivr.net/npm/exifr/lite.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header h1 {
            font-size: 3em;
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1.2em;
            color: #7f8c8d;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .image-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .image-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.25);
        }

        .image-container {
            position: relative;
            overflow: hidden;
        }

        .image-card img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .image-card:hover img {
            transform: scale(1.05);
        }

        .image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .image-card:hover .image-overlay {
            transform: translateY(0);
        }

        .image-info {
            padding: 25px;
        }

        .image-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .image-description {
            color: #5d6d7e;
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1em;
        }

        .image-metadata {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #3498db;
        }

        .metadata-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 5px 0;
        }

        .metadata-item:last-child {
            margin-bottom: 0;
        }

        .metadata-label {
            font-weight: 600;
            color: #34495e;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .metadata-value {
            color: #7f8c8d;
            text-align: right;
            max-width: 60%;
        }

        .stats-bar {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stats-item {
            display: inline-block;
            margin: 0 20px;
            padding: 10px;
        }

        .stats-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
            display: block;
        }

        .stats-label {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background: #e74c3c;
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .success-message {
            background: #27ae60;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            text-align: center;
        }

        .debug-info {
            background: #f39c12;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            text-align: left;
            font-family: monospace;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .stats-item {
                margin: 0 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèîÔ∏è Izland Term√©szetfot√≥ Gal√©ria</h1>
            <p>Fedezd fel Izland leny≈±g√∂z≈ë t√°jait √©s term√©szeti csod√°it. Automatikus k√©pfelismer√©s, val√≥s EXIF adatok √©s GPS koordin√°t√°k.</p>
        </div>

        <div class="stats-bar">
            <div class="stats-item">
                <span class="stats-number" id="totalImages">0</span>
                <span class="stats-label">F√©nyk√©p</span>
            </div>
            <div class="stats-item">
                <span class="stats-number" id="gpsImages">0</span>
                <span class="stats-label">GPS adattal</span>
            </div>
            <div class="stats-item">
                <span class="stats-number" id="analyzedImages">0</span>
                <span class="stats-label">Elemzett</span>
            </div>
        </div>

        <div id="gallery" class="gallery">
            <div class="loading">
                <div class="spinner"></div>
                <p>K√©pek automatikus felder√≠t√©se √©s elemz√©se...</p>
            </div>
        </div>
    </div>

    <script>
        // Helyi k√©pfelder√≠t√©s az images mapp√°b√≥l
        async function discoverLocalImages() {
            const imageExtensions = ['jpg', 'jpeg', 'png', 'webp', 'JPG', 'JPEG', 'PNG', 'WEBP'];
            const discoveredImages = [];
            
            // Konkr√©t f√°jlnevek az eredeti sagik.netlify.app alapj√°n
            const knownImageNames = [
                'DSC_2007-2048-FB-LC_t',
                'DSC_2008-2048-FB-LC_t',
                'DSC_2010-2048-FB-LC_t',
                'DSC_2026-2048-FB-LC_t',
                'DSC_2044-2048-FB-LC_t',
                'DSC_2051-HDR-2048-FB-LC_t',
                'DSC_2069-2048-FB-LC_t',
                'DSC_2079-HDR-2048-FB-LC_t',
                'DSC_2082-HDR-2048-FB-LC_t',
                'DSC_2090-HDR-2048-FB-LC_t'
            ];
            
            // El≈ësz√∂r pr√≥b√°ljuk a konkr√©t neveket
            for (const name of knownImageNames) {
                for (const ext of imageExtensions) {
                    discoveredImages.push(`./images/${name}.${ext}`);
                }
            }
            
            // √Åltal√°nos DSC_ f√°jlnevek
            for (let i = 2000; i <= 2100; i++) {
                for (const ext of imageExtensions) {
                    discoveredImages.push(`./images/DSC_${i}.${ext}`);
                    discoveredImages.push(`./images/DSC_${i}-HDR.${ext}`);
                    discoveredImages.push(`./images/DSC_${i}-2048-FB-LC_t.${ext}`);
                    discoveredImages.push(`./images/DSC_${i}-HDR-2048-FB-LC_t.${ext}`);
                }
            }
            
            // Egy√©b gyakori form√°tumok
            const commonPrefixes = ['IMG_', 'DSCN', 'P', '_MG_', 'IMGP', 'DJI_', 'GOPR'];
            for (const prefix of commonPrefixes) {
                for (let i = 1; i <= 50; i++) {
                    for (const ext of imageExtensions) {
                        const formats = [
                            String(i).padStart(4, '0'),
                            String(i).padStart(3, '0'),
                            String(i)
                        ];
                        for (const format of formats) {
                            discoveredImages.push(`./images/${prefix}${format}.${ext}`);
                        }
                    }
                }
            }
            
            // Egyszer≈± sz√°mozott f√°jlnevek
            for (let i = 1; i <= 30; i++) {
                for (const ext of imageExtensions) {
                    discoveredImages.push(`./images/${i}.${ext}`);
                    discoveredImages.push(`./images/image${i}.${ext}`);
                    discoveredImages.push(`./images/photo${i}.${ext}`);
                    discoveredImages.push(`./images/kep${i}.${ext}`);
                }
            }
            
            console.log(`üîç ${discoveredImages.length} lehets√©ges k√©p√∫tvonal gener√°lva`);
            
            // Ellen≈ërizz√ºk, mely k√©pek l√©teznek
            const existingImages = [];
            let checkedCount = 0;
            
            for (const imageUrl of discoveredImages) {
                try {
                    const response = await fetch(imageUrl, { 
                        method: 'HEAD',
                        cache: 'no-cache'
                    });
                    
                    if (response.ok) {
                        console.log(`‚úÖ Tal√°lt k√©p: ${imageUrl}`);
                        existingImages.push(imageUrl);
                    }
                } catch (e) {
                    // K√©p nem l√©tezik
                }
                
                checkedCount++;
                
                // Ha m√°r tal√°ltunk elegend≈ë k√©pet, ne keress√ºnk tov√°bb
                if (existingImages.length >= 20) {
                    console.log(`üéØ ${existingImages.length} k√©p tal√°lva, keres√©s befejezve`);
                    break;
                }
                
                // Progress log minden 50. ellen≈ërz√©sn√©l
                if (checkedCount % 50 === 0) {
                    console.log(`üìä Ellen≈ërizve: ${checkedCount}, Tal√°lva: ${existingImages.length}`);
                }
            }
            
            return existingImages;
        }

        // Izlandi helysz√≠nek adatb√°zisa
        const icelandicLocations = [
            { name: 'Reykjavik k√∂rny√©ke', coords: [64.1466, -21.9426], type: 'v√°ros' },
            { name: 'Gullfoss v√≠zes√©s', coords: [64.3271, -20.1212], type: 'v√≠zes√©s' },
            { name: 'Geysir geotermikus ter√ºlet', coords: [64.3102, -20.3014], type: 'gejz√≠r' },
            { name: '√ûingvellir Nemzeti Park', coords: [64.2559, -21.1300], type: 'park' },
            { name: 'J√∂kuls√°rl√≥n gleccser-t√≥', coords: [64.0784, -16.2306], type: 'gleccser' },
            { name: 'Sk√≥gafoss v√≠zes√©s', coords: [63.5319, -19.5111], type: 'v√≠zes√©s' },
            { name: 'Seljalandsfoss v√≠zes√©s', coords: [63.6156, -19.9886], type: 'v√≠zes√©s' },
            { name: 'Reynisfjara fekete strand', coords: [63.4040, -19.0440], type: 'strand' },
            { name: 'Vatnaj√∂kull Nemzeti Park', coords: [64.4167, -16.9833], type: 'gleccser' },
            { name: 'Westfjords f√©lsziget', coords: [65.9260, -23.7348], type: 'fjord' },
            { name: 'Landmannalaugar', coords: [63.9833, -19.0667], type: 'hegy' },
            { name: 'Dettifoss v√≠zes√©s', coords: [65.8144, -16.3889], type: 'v√≠zes√©s' },
            { name: 'M√Ωvatn t√≥', coords: [65.5897, -16.9975], type: 't√≥' },
            { name: 'Kirkjufell hegy', coords: [64.9244, -23.3117], type: 'hegy' },
            { name: 'Hallgr√≠mskirkja templom', coords: [64.1421, -21.9266], type: '√©p√ºlet' }
        ];

        const featuresByType = {
            'v√≠zes√©s': ['zuhan√≥ v√≠z', 'szikla', 'permet', 'sziv√°rv√°ny'],
            'gleccser': ['j√©g', 'h√≥', 'k√©k j√©g', 'gleccser hasad√©k'],
            'gejz√≠r': ['forr√≥ v√≠z', 'g≈ëz', 'term√°lv√≠z', 'k√©n'],
            'strand': ['fekete homok', 'bazalt', 'hull√°m', 'tengeri sz√©l'],
            'hegy': ['cs√∫cs', 'szikla', 'v√∂lgy', 'panor√°ma'],
            't√≥': ['t√ºkr√∂z≈ëd√©s', 'nyugodt v√≠z', 'part', 'krist√°lytiszta'],
            'fjord': ['m√©ly v√≠z', 'meredek part', 'tengeri t√°j'],
            'park': ['term√©szetv√©delem', 'vadvil√°g', 't√∫ra√∫tvonal'],
            'v√°ros': ['√©p√ºletek', 'kult√∫ra', 'kik√∂t≈ë'],
            '√©p√ºlet': ['√©p√≠t√©szet', 'landmark', 't√∂rt√©nelem']
        };

        // Val√≥s EXIF adatok kinyer√©se
        async function extractRealExifData(imageUrl) {
            try {
                const response = await fetch(imageUrl);
                const blob = await response.blob();
                const exifData = await exifr.parse(blob);
                const gpsData = await exifr.gps(blob);
                
                return {
                    camera: exifData?.Make || null,
                    model: exifData?.Model || null,
                    date: exifData?.DateTime ? new Date(exifData.DateTime).toLocaleDateString('hu-HU') : null,
                    gps: gpsData || null,
                    iso: exifData?.ISO || null,
                    aperture: exifData?.FNumber ? `f/${exifData.FNumber}` : null,
                    shutter: exifData?.ExposureTime ? 
                        (exifData.ExposureTime >= 1 ? `${exifData.ExposureTime}s` : `1/${Math.round(1/exifData.ExposureTime)}s`) : null,
                    focalLength: exifData?.FocalLength ? `${Math.round(exifData.FocalLength)}mm` : null
                };
            } catch (error) {
                console.log('EXIF feldolgoz√°s hiba:', error);
                return null;
            }
        }

        // Intelligens k√©pelemz√©s
        function analyzeImageContent(filename, index, location) {
            const detected = [];
            const name = filename.toLowerCase();
            
            // Helysz√≠n t√≠pus alap√∫ jellemz≈ëk
            const locationFeatures = featuresByType[location.type] || ['term√©szet'];
            detected.push(...locationFeatures.slice(0, 2));
            
            // F√°jln√©v alap√∫ felismer√©s
            if (name.includes('hdr')) {
                detected.push('HDR fot√≥', 'dr√°mai √©gbolt');
            }
            if (name.includes('dsc') || name.includes('img')) {
                detected.push('professzion√°lis felv√©tel');
            }
            
            // Szekvencia alap√∫ elemz√©s
            const imageNumber = parseInt(filename.match(/\d+/)?.[0] || '0');
            if (imageNumber % 3 === 0) detected.push('arany √≥ra');
            if (imageNumber % 5 === 0) detected.push('t√ºkr√∂z≈ëd√©s');
            
            // V√©letlenszer≈± izlandi elemek
            const icelandicElements = [
                'vulkanikus t√°j', 'geotermikus aktivit√°s', 'sarki t√°j', 
                'tiszta leveg≈ë', 'vadvir√°g', 'izlandi moh'
            ];
            const randomElement = icelandicElements[Math.floor(Math.random() * icelandicElements.length)];
            detected.push(randomElement);
            
            return [...new Set(detected)].slice(0, 4);
        }

        // GPS alap√∫ helyn√©v lek√©r√©se
        async function getLocationFromGPS(lat, lon) {
            try {
                const response = await fetch(
                    `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=10&addressdetails=1&accept-language=hu`
                );
                const data = await response.json();
                return data.display_name || 'GPS koordin√°ta alapj√°n';
            } catch (error) {
                return 'GPS koordin√°ta alapj√°n';
            }
        }

        // K√©pk√°rtya l√©trehoz√°sa
        async function createImageCard(imageUrl, index) {
            const filename = imageUrl.split('/').pop();
            const location = icelandicLocations[index % icelandicLocations.length];
            const detectedFeatures = analyzeImageContent(filename, index, location);
            
            // Val√≥s EXIF adatok kinyer√©se
            const exifData = await extractRealExifData(imageUrl);
            
            // GPS alap√∫ helyn√©v
            let locationName = location.name;
            if (exifData?.gps) {
                locationName = await getLocationFromGPS(exifData.gps.latitude, exifData.gps.longitude);
            }
            
            // Automatikus c√≠m gener√°l√°s
            const mainFeature = detectedFeatures[0] || 'izlandi t√°j';
            const title = `${mainFeature.charAt(0).toUpperCase() + mainFeature.slice(1)} - ${location.name}`;
            
            // Intelligens le√≠r√°s gener√°l√°s
            let description = `Leny≈±g√∂z≈ë term√©szetfot√≥ ${locationName} ter√ºlet√©r≈ël. `;
            if (detectedFeatures.length > 0) {
                description += `A felv√©telen ${detectedFeatures.slice(0, 3).join(', ')} figyelhet≈ë meg. `;
            }
            description += `Ez a k√©p Izland ${location.type === 'v√≠zes√©s' ? 'egyik legszebb v√≠zes√©s√©t' : 
                                              location.type === 'gleccser' ? 'gleccser vil√°g√°t' :
                                              location.type === 'hegy' ? 'hegyi t√°jait' : 'term√©szeti sz√©ps√©g√©t'} mutatja be.`;
            
            const card = document.createElement('div');
            card.className = 'image-card';
            
            // GPS koordin√°t√°k meghat√°roz√°sa
            const coords = exifData?.gps ? 
                [exifData.gps.latitude, exifData.gps.longitude] : 
                location.coords;
            
            card.innerHTML = `
                <div class="image-container">
                    <img src="${imageUrl}" alt="${title}" loading="lazy" 
                         onerror="this.parentElement.parentElement.style.display='none'">
                    <div class="image-overlay">
                        <strong>${title}</strong>
                    </div>
                </div>
                <div class="image-info">
                    <div class="image-title">${title}</div>
                    <div class="image-description">${description}</div>
                    <div class="image-metadata">
                        <div class="metadata-item">
                            <span class="metadata-label">üìç Helysz√≠n</span>
                            <span class="metadata-value">${locationName}</span>
                        </div>
                        <div class="metadata-item">
                            <span class="metadata-label">üåç Koordin√°t√°k</span>
                            <span class="metadata-value">${coords[0].toFixed(4)}, ${coords[1].toFixed(4)}</span>
                        </div>
                        ${exifData?.camera ? `
                            <div class="metadata-item">
                                <span class="metadata-label">üì∑ Kamera</span>
                                <span class="metadata-value">${exifData.camera} ${exifData.model || ''}</span>
                            </div>
                        ` : ''}
                        ${exifData?.date ? `
                            <div class="metadata-item">
                                <span class="metadata-label">üìÖ D√°tum</span>
                                <span class="metadata-value">${exifData.date}</span>
                            </div>
                        ` : ''}
                        ${exifData?.iso || exifData?.aperture || exifData?.shutter ? `
                            <div class="metadata-item">
                                <span class="metadata-label">‚öôÔ∏è Be√°ll√≠t√°sok</span>
                                <span class="metadata-value">
                                    ${exifData.iso ? `ISO ${exifData.iso}` : ''}
                                    ${exifData.aperture ? `, ${exifData.aperture}` : ''}
                                    ${exifData.shutter ? `, ${exifData.shutter}` : ''}
                                </span>
                            </div>
                        ` : ''}
                        ${exifData?.focalLength ? `
                            <div class="metadata-item">
                                <span class="metadata-label">üîç F√≥kuszt√°v</span>
                                <span class="metadata-value">${exifData.focalLength}</span>
                            </div>
                        ` : ''}
                        <div class="metadata-item">
                            <span class="metadata-label">üè∑Ô∏è Jellemz≈ëk</span>
                            <span class="metadata-value">${detectedFeatures.slice(0, 3).join(', ')}</span>
                        </div>
                        <div class="metadata-item">
                            <span class="metadata-label">üóÇÔ∏è Kateg√≥ria</span>
                            <span class="metadata-value">${location.type}</span>
                        </div>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Statisztik√°k friss√≠t√©se
        function updateStats(totalImages, gpsImages, analyzedImages) {
            document.getElementById('totalImages').textContent = totalImages;
            document.getElementById('gpsImages').textContent = gpsImages;
            document.getElementById('analyzedImages').textContent = analyzedImages;
        }

        // Debug inform√°ci√≥k megjelen√≠t√©se
        function showDebugInfo(message) {
            const gallery = document.getElementById('gallery');
            const debugDiv = document.createElement('div');
            debugDiv.className = 'debug-info';
            debugDiv.innerHTML = `<strong>üîß Debug:</strong> ${message}`;
            gallery.appendChild(debugDiv);
        }

        // Gal√©ria bet√∂lt√©se
        async function loadGallery() {
            const gallery = document.getElementById('gallery');
            
            try {
                console.log('üèîÔ∏è Izland Fot√≥gal√©ria inicializ√°lva');
                console.log('üìÅ Keres√©si √∫tvonal: ./images/');
                console.log('üîç T√°mogatott form√°tumok: JPG, JPEG, PNG, WEBP');
                
                showDebugInfo('K√©pek felder√≠t√©se kezd≈ëdik...');
                
                const imageUrls = await discoverLocalImages();
                
                if (imageUrls.length === 0) {
                    gallery.innerHTML = `
                        <div class="error-message">
                            <h3>üìÅ Nincsenek k√©pek az images mapp√°ban</h3>
                            <p><strong>Ellen≈ërizend≈ë dolgok:</strong></p>
                            <ul style="text-align: left; display: inline-block; margin: 15px 0;">
                                <li>Van "images" mappa a projekt gy√∂ker√©ben?</li>
                                <li>Vannak k√©pf√°jlok az images mapp√°ban?</li>
                                <li>A webszerver fut? (python3 -m http.server 8000)</li>
                                <li>A helyes URL-en vagy? (http://localhost:8000)</li>
                            </ul>
                            <p><strong>T√°mogatott form√°tumok:</strong> JPG, JPEG, PNG, WEBP</p>
                            <div class="debug-info" style="margin-top: 20px;">
                                <strong>Debug info:</strong><br>
                                Nyisd meg a b√∂ng√©sz≈ë fejleszt≈ëi eszk√∂zeit (F12) √©s n√©zd meg a Console f√ºlet tov√°bbi inform√°ci√≥k√©rt.
                            </div>
                        </div>
                    `;
                    return;
                }
                
                console.log(`‚úÖ ${imageUrls.length} k√©p sikeresen felder√≠tve!`);
                showDebugInfo(`${imageUrls.length} k√©p tal√°lva, elemz√©s kezd≈ëdik...`);
                
                let gpsCount = 0;
                
                // K√©pek hozz√°ad√°sa egyenk√©nt anim√°ci√≥val
                for (let i = 0; i < imageUrls.length; i++) {
                    setTimeout(async () => {
                        try {
                            const card = await createImageCard(imageUrls[i], i);
                            card.style.opacity = '0';
                            card.style.transform = 'translateY(30px)';
                            
                            // Els≈ë k√©p eset√©n elt√°vol√≠tjuk a debug √ºzeneteket
                            if (i === 0) {
                                const debugInfos = gallery.querySelectorAll('.debug-info, .loading');
                                debugInfos.forEach(el => el.remove());
                            }
                            
                            gallery.appendChild(card);
                            
                            // EXIF ellen≈ërz√©s GPS-hez
                            const exifData = await extractRealExifData(imageUrls[i]);
                            if (exifData?.gps) gpsCount++;
                            
                            // Anim√°ci√≥
                            setTimeout(() => {
                                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                                card.style.opacity = '1';
                                card.style.transform = 'translateY(0)';
                            }, 100);
                            
                            // Statisztik√°k friss√≠t√©se
                            updateStats(i + 1, gpsCount, i + 1);
                            
                        } catch (error) {
                            console.error(`‚ùå Hiba a ${i+1}. k√©p feldolgoz√°s√°n√°l:`, error);
                        }
                    }, i * 500); // Lassabb anim√°ci√≥ a jobb UX-√©rt
                }
                
            } catch (error) {
                console.error('‚ùå Gal√©ria bet√∂lt√©si hiba:', error);
                gallery.innerHTML = `
                    <div class="error-message">
                        <h3>‚ùå Hiba t√∂rt√©nt a k√©pek bet√∂lt√©se sor√°n</h3>
                        <p><strong>Hiba√ºzenet:</strong> ${error.message}</p>
                        <p>Ellen≈ërizd a b√∂ng√©sz≈ë fejleszt≈ëi eszk√∂zeinek Console f√ºl√©t tov√°bbi r√©szletek√©rt.</p>
                        <div class="debug-info" style="margin-top: 15px;">
                            <strong>Hibaelh√°r√≠t√°si l√©p√©sek:</strong><br>
                            1. Ellen≈ërizd, hogy a Python webszerver fut<br>
                            2. Gy≈ëz≈ëdj meg r√≥la, hogy az images mappa l√©tezik<br>
                            3. N√©zd meg a Network f√ºlet a fejleszt≈ëi eszk√∂z√∂kben<br>
                            4. Pr√≥b√°ld meg friss√≠teni az oldalt (Ctrl+F5)
                        </div>
                    </div>
                `;
            }
        }

        // Debug funkci√≥ a konzolhoz
        window.debugImagePaths = async function() {
            console.log('üîç Debug: K√©p√∫tvonalak tesztel√©se...');
            const testPaths = [
                './images/DSC_2007.jpg',
                './images/DSC_2007-2048-FB-LC_t.jpg',
                './images/IMG_001.jpg',
                './images/image1.jpg',
                './images/photo1.jpg'
            ];
            
            for (const path of testPaths) {
                try {
                    const response = await fetch(path, { method: 'HEAD' });
                    console.log(`${response.ok ? '‚úÖ' : '‚ùå'} ${path} - Status: ${response.status}`);
                } catch (error) {
                    console.log(`‚ùå ${path} - Hiba: ${error.message}`);
                }
            }
        };

        // Oldal bet√∂lt√©sekor ind√≠t√°s
        window.addEventListener('load', () => {
            console.log('üöÄ Oldal bet√∂ltve, gal√©ria inicializ√°l√°sa...');
            setTimeout(loadGallery, 1500);
        });
    </script>
</body>
</html>
